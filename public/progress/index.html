<!doctype html>
<html lang="ru">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

  <meta charset="utf-8" />
  <title>–ü—Ä–æ–≥—Ä–µ—Å—Å —É—á–µ–Ω–∏–∫–æ–≤</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #0f172a;
      --card-bg: #111827;
      --accent: #38bdf8;
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
      --star: #facc15;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
	  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
	  background: radial-gradient(circle at top left, #1b263b 0%, #0d1b2a 45%, #0b141f 100%);
	  color: #e0e7ff;
	  min-height: 100vh;
	  display: flex;
	  flex-direction: column;
	  align-items: stretch;
	  background-attachment: fixed;
    }

    header {
	  padding: 16px 20px;
	  border-bottom: 1px solid #1f2937;
	  display: flex;
	  flex-direction: column; /* <- –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ */
	  justify-content: center;
	  align-items: center;    /* <- –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä */
	  gap: 4px;
	  text-align: center;
    }

    header h1 {
	  font-family: "Press Start 2P", monospace;
	  letter-spacing: 1px;
	  text-shadow: 0 0 8px rgba(125, 245, 255, 0.5);
      font-size: 2rem;
      font-weight: 600;
	  text-align: center;
	  width: 100%;
	  margin-bottom: 6px;
    }


    header span {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    main {
      padding: 16px 20px 32px;
      max-width: 1100px;
      width: 100%;
      margin: 0 auto;
    }

    #status {
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-bottom: 12px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 16px;
    }

    .card {
	  background: rgba(17, 24, 39, 0.75);
	  border-radius: 14px;
      padding: 14px;
      border: 1px solid rgba(255,255,255,0.08);
	  backdrop-filter: blur(4px);
	  box-shadow: 0 6px 20px rgba(0,0,0,0.4),
		  0 0 10px rgba(125, 245, 255, 0.04);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }
	
	.card:hover {
	  transform: translateY(-3px);
	  border-color: rgba(125, 245, 255, 0.85);
	  box-shadow: 0 10px 25px rgba(0,0,0,0.5),
				  0 0 16px rgba(125, 245, 255, 0.55);
	}

/* ===== —Å–ø–µ—Ü-—Ä–∞–º–∫–∏ –¥–ª—è –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö ===== */

	/* –±–∞–∑–æ–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞ */
	@keyframes pulse-orange {
	  0% {
		box-shadow: 0 0 0 0 rgba(249, 115, 22, 0.8);
		border-color: rgba(249, 115, 22, 0.9);
	  }
	  50% {
		box-shadow: 0 0 18px 6px rgba(249, 115, 22, 0.5);
		border-color: rgba(253, 186, 116, 1);
	  }
	  100% {
		box-shadow: 0 0 0 0 rgba(249, 115, 22, 0.2);
		border-color: rgba(249, 115, 22, 0.7);
	  }
	}

	@keyframes pulse-purple {
	  0% {
		box-shadow: 0 0 0 0 rgba(168, 85, 247, 0.8);
		border-color: rgba(168, 85, 247, 0.9);
	  }
	  50% {
		box-shadow: 0 0 20px 7px rgba(192, 132, 252, 0.6);
		border-color: rgba(216, 180, 254, 1);
	  }
	  100% {
		box-shadow: 0 0 0 0 rgba(168, 85, 247, 0.3);
		border-color: rgba(168, 85, 247, 0.7);
	  }
	}

	@keyframes pulse-blue {
	  0% {
		box-shadow: 0 0 0 0 rgba(56, 189, 248, 0.8);
		border-color: rgba(56, 189, 248, 0.9);
	  }
	  50% {
		box-shadow: 0 0 20px 7px rgba(59, 130, 246, 0.7);
		border-color: rgba(191, 219, 254, 1);
	  }
	  100% {
		box-shadow: 0 0 0 0 rgba(56, 189, 248, 0.3);
		border-color: rgba(56, 189, 248, 0.7);
	  }
	}

	/* –î–µ–Ω–∏—Å ‚Äî —Ä—ã–∂–∏–π –∫–æ—Ç–∏–∫ */
	.card.special-denis {
	  border-width: 2px;
	  border-color: #f97316;
	  animation: pulse-orange 1.6s infinite;
	}

	/* –ê–Ω–Ω–∞ ‚Äî —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–µ –∑–∞–π–∫–∏ */
	.card.special-anna {
	  border-width: 2px;
	  border-color: #a855f7;
	  animation: pulse-purple 1.7s infinite;
	}

	/* –î–∏–Ω–∞—Ä–∞ –∏ –õ—é–±–∞ ‚Äî –≥–æ–ª—É–±–∞—è –∞–Ω–∏–º–∞—Ü–∏—è */
	.card.special-dinara,
	.card.special-lyuba {
	  border-width: 2px;
	  border-color: #38bdf8;
	  animation: pulse-blue 1.8s infinite;
	}



	.avatar-wrap {
	  position: relative;
	  width: 90px;
	  height: 90px;
	  display: flex;
	  align-items: center;
	  justify-content: center;
	}

	/* —Å—Å—ã–ª–∫–∞ –≤–æ–∫—Ä—É–≥ –∞–≤–∞—Ç–∞—Ä–∫–∏ */
	.avatar-link {
	  display: block;
	  width: 56px;
	  height: 56px;
	  border-radius: 50%;
	}

	/* –∫—Ä—É–≥–ª—ã–π –∞–≤–∞—Ç–∞—Ä (–∏ –¥–ª—è div, –∏ –¥–ª—è img) */
	.avatar {
	  width: 56px;
	  height: 56px;
	  border-radius: 50%;
	  overflow: hidden;
	  background: radial-gradient(circle at 30% 20%, #38bdf8, #0ea5e9);
	  display: flex;
	  align-items: center;
	  justify-content: center;
	  font-weight: 700;
	  color: #0f172a;
	  font-size: 1rem;
	  text-transform: uppercase;
	}

	.avatar-wrap img.avatar {
	  width: 100%;
	  height: 100%;
	  object-fit: cover;
	}
	
    .stars-ring {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .star {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 12px;
      color: var(--star);
      text-shadow: 0 0 6px rgba(250, 204, 21, 0.8);
    }

    .name {
      font-size: 0.95rem;
      font-weight: 600;
      text-align: center;
    }

    .meta {
      font-size: 0.85rem;
      color: var(--text-muted);
      text-align: center;
    }

    .meta strong {
      color: var(--accent);
      font-weight: 600;
    }

    .empty {
      font-size: 0.9rem;
      color: var(--text-muted);
      margin-top: 8px;
    }

    @media (max-width: 600px) {
      header {
        flex-direction: column;
        align-items: flex-start;
      }
      main {
        padding: 12px 12px 24px;
      }
    }
	
	.leaders {
	  margin-bottom: 24px;
	  text-align: center;
	}

	.leaders h2 {
	  font-size: 1rem;
	  font-weight: 600;
	  margin: 0 0 25px;
	}

	.podium {
	  display: flex;
	  justify-content: center;
	  gap: 12px;
	  align-items: flex-end;
	  flex-wrap: wrap;
	}

	/* –∫–∞—Ä—Ç–æ—á–∫–∏ –ª–∏–¥–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ—Ç –∂–µ .card, –Ω–æ —Å –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–µ–π */
	.podium .card {
	  min-width: 150px;
	  max-width: 180px;
	  position: relative;
	}

	/* –ø–æ–¥–∏—É–º: —Å–µ—Ä–µ–±—Ä–æ —Å–ª–µ–≤–∞ —á—É—Ç—å –Ω–∏–∂–µ, –∑–æ–ª–æ—Ç–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É –≤—ã—à–µ, –±—Ä–æ–Ω–∑–∞ —Å–ø—Ä–∞–≤–∞ —á—É—Ç—å –Ω–∏–∂–µ */
	.podium .card.gold {
	  border: 2px solid #facc15;
	  box-shadow: 0 0 10px #facc15aa;
	  transform: translateY(-10px) scale(1.05);
	}
	.podium .card.silver {
	  border: 2px solid #e5e7eb;
	  box-shadow: 0 0 10px #e5e7eb88;
	  transform: translateY(0px);
	}
	.podium .card.bronze {
	  border: 2px solid #f97316;
	  box-shadow: 0 0 10px #f59e0b66;
	  transform: translateY(2px);
	}

	/* –º–∞–ª–µ–Ω—å–∫–∏–π –±–µ–π–¥–∂–∏–∫ "1 –º–µ—Å—Ç–æ" */
	.place-badge {
	  position: absolute;
	  top: 6px;
	  right: 8px;
	  padding: 2px 6px;
	  border-radius: 999px;
	  font-size: 0.65rem;
	  font-weight: 600;
	  background: rgba(15,23,42,0.9);
	  border: 1px solid rgba(148,163,184,0.7);
	}

	/* –ü–û–ò–°–ö */
	.search-wrap {
	  margin: 10px 0 14px;
	}

	#searchInput {
	  width: 100%;
	  max-width: 320px;
	  padding: 10px 14px;
	  border-radius: 8px;
	  border: 2px solid rgba(125, 245, 255, 0.4);
	  background: rgba(10, 20, 35, 0.8);
	  color: #cfe8ff;
	  font-size: 0.9rem;
	  outline: none;
	  box-shadow: 0 0 8px rgba(125, 245, 255, 0.2);
	  text-align: center;
	}
	#searchInput::placeholder {
	  color: #6b7280;
	}
	#searchInput:focus {
	  border-color: #7df5ff;
	  box-shadow: 0 0 12px rgba(125, 245, 255, 0.4);
	}
	
	.podium .name {
	  display: flex;
	  flex-direction: column;
	  align-items: center;
	  line-height: 1.2;
	}

	.podium .name div:first-child {
	  font-size: 1rem;
	  font-weight: 700;
	}

	.podium .name div:last-child {
	  font-size: 0.9rem;
	  font-weight: 500;
	  opacity: 0.9;
	}
	

	
	.leaders {
	  text-align: center;
	}

	.leaders h2 {
	  width: 100%;
	  text-align: center;
	}
	.search-wrap {
	  display: flex;
	  justify-content: center;
	  margin: 8px 0 20px;
	}
	#status {
	  padding-bottom: 20px;
	}
	
  </style>
</head>
<body>
  <header>
    <div>
      <h1 style="text-align:center; width:100%;">–ü—Ä–æ–≥—Ä–µ—Å—Å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫—É—Ä—Å–∞</h1>
      <span>AI COURSE WEBSITES & GAMES</span>
    </div>
    
  </header>

  <main>
    <!-- –õ–ò–î–ï–†–´ -->
    <section class="leaders">
  	<h2>–¢–û–ü-3</h2>
  	<div id="podium" class="podium"></div>
    </section>
  
    <!-- –ü–û–ò–°–ö -->
    <div class="search-wrap">
  	<input
  	  id="searchInput"
  	  type="search"
  	  placeholder="–ù–∞–π—Ç–∏ —Å–µ–±—è –ø–æ —Ñ–∞–º–∏–ª–∏–∏ –∏–ª–∏ –∏–º–µ–Ω–∏‚Ä¶"
  	  aria-label="–ü–æ–∏—Å–∫ —É—á–µ–Ω–∏–∫–∞ –ø–æ –∏–º–µ–Ω–∏"
  	/>
    </div>
  
    <!-- –û–°–ù–û–í–ù–ê–Ø –°–ï–¢–ö–ê -->
    <div id="grid" class="grid"></div>
    <div id="empty" class="empty" style="display:none;">
  	–ü–æ–∫–∞ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏ –∏–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–º–µ–Ω—è—Ç—å —Ç–µ–∫—Å—Ç –ø–æ–∏—Å–∫–∞.
    </div>
	
	<div id="status" style="text-align:center; margin-top:30px; color:#9ca3af;">
	  –ó–∞–≥—Ä—É–∂–∞—é –¥–∞–Ω–Ω—ã–µ‚Ä¶
	</div>
  </main>



<script>
  // === –ù–ê–°–¢–†–û–ô–ö–ò ===
  const CSV_PATH = "https://docs.google.com/spreadsheets/d/1JJfgxFl6FczKSOeSQHRk20A-iQk83buj1fgbgPbRiVU/export?format=csv&gid=613453476";
  const MAX_STARS = 12;
  const TASKS_PER_STAR = 1;

  const statusEl = document.getElementById("status");
  const gridEl = document.getElementById("grid");
  const emptyEl = document.getElementById("empty");
  const podiumEl = document.getElementById("podium");
  const searchInput = document.getElementById("searchInput");

  let allStudents = [];

  // ====== –ó–ê–ì–†–£–ó–ö–ê CSV ======
  async function loadCSV() {
    try {
      statusEl.textContent = "–ó–∞–≥—Ä—É–∂–∞—é –¥–∞–Ω–Ω—ã–µ –∏–∑ CSV‚Ä¶";
      const res = await fetch(CSV_PATH);
      if (!res.ok) {
        throw new Error("–ù–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å CSV: " + res.status);
      }

      const text = await res.text();
      console.log("CSV —Ç–µ–∫—Å—Ç:", text.slice(0, 200));
      const students = parseCSV(text);
      allStudents = students;

      if (students.length === 0) {
        statusEl.textContent = "–ó–∞–ø–∏—Å–µ–π –ø–æ–∫–∞ –Ω–µ—Ç.";
      } else {
        statusEl.textContent = "–ó–∞–≥—Ä—É–∂–µ–Ω–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤: " + students.length;
      }

      renderAll();
    } catch (err) {
      console.error(err);
      statusEl.textContent = "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã.";
      gridEl.innerHTML = "";
      if (podiumEl) podiumEl.innerHTML = "";
      emptyEl.style.display = "block";
    }
  }

  // ====== –ü–ê–†–°–ï–† CSV ======
  function parseCSV(text) {
    const lines = text.trim().split(/\r?\n/);
    if (lines.length <= 1) return [];

    const header = lines[0].split(",").map(h => h.trim().toLowerCase());

    const idxName      = header.indexOf("name");
    const idxCompleted = header.indexOf("completed");
    const idxAvatar    = header.indexOf("avatar");
    const idxProfile   = header.indexOf("profile");

    if (idxName === -1 || idxCompleted === -1) {
      console.warn("–í CSV –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ–ª–æ–Ω–∫–∏ name –∏ completed");
      return [];
    }

    const students = [];

    for (let i = 1; i < lines.length; i++) {
      const line = lines[i].trim();
      if (!line) continue;

      const parts = line.split(",");

      const name = (parts[idxName] || "").trim();
      const completedRaw = (parts[idxCompleted] || "").trim();
      const avatar = idxAvatar !== -1 ? (parts[idxAvatar] || "").trim() : "";
      const profile = idxProfile !== -1 ? (parts[idxProfile] || "").trim() : "";

      if (!name) continue;

      const completed = Number.parseInt(completedRaw, 10) || 0;
      students.push({ name, completed, avatar, profile });
    }

    return students;
  }

  // ====== –ì–õ–ê–í–ù–´–ô –†–ï–ù–î–ï–† (—Ç–æ–ø-3 + —Å–ø–∏—Å–æ–∫) ======
  function renderAll(filterText = "") {
    const q = filterText.trim().toLowerCase();

    // 1) –ü–æ–¥–∏—É–º –≤—Å–µ–≥–¥–∞ —Å—á–∏—Ç–∞–µ–º –ø–æ –≤—Å–µ–º —É—á–µ–Ω–∏–∫–∞–º
    if (!allStudents || allStudents.length === 0) {
      renderPodium([]);
    } else {
      const sortedByScoreAll = allStudents
        .slice()
        .sort((a, b) => {
          if (b.completed !== a.completed) return b.completed - a.completed;
          return a.name.localeCompare(b.name, "ru");
        });
      const top3All = sortedByScoreAll.slice(0, 3);
      renderPodium(top3All);
    }

    // 2) –°–ø–∏—Å–æ–∫ –Ω–∏–∂–µ ‚Äî —Å —Ñ–∏–ª—å—Ç—Ä–æ–º
    let filtered = allStudents.slice();

    if (q) {
      filtered = filtered.filter(st =>
        st.name.toLowerCase().includes(q)
      );
    }

    if (filtered.length === 0) {
      gridEl.innerHTML = "";
      emptyEl.style.display = "block";
      return;
    } else {
      emptyEl.style.display = "none";
    }

    // –°–ø–∏—Å–æ–∫ –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É
    const listSorted = filtered.slice().sort((a, b) =>
      a.name.localeCompare(b.name, "ru")
    );

    renderGrid(listSorted);
  }

  // ====== –ü–û–î–ò–£–ú (—Ç–æ–ø-3) ======
  function renderPodium(top3) {
    if (!podiumEl) return;
    podiumEl.innerHTML = "";

    if (!top3 || top3.length === 0) {
      const msg = document.createElement("div");
      msg.className = "meta";
      msg.textContent = "–ü–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–∏–¥–µ—Ä–æ–≤.";
      podiumEl.appendChild(msg);
      return;
    }

    const positions = [
      { index: 1, className: "silver", place: 2 },
      { index: 0, className: "gold",   place: 1 },
      { index: 2, className: "bronze", place: 3 }
    ];

    positions.forEach(pos => {
      const st = top3[pos.index];
      if (!st) return;

      const card = createStudentCard(st);
      card.classList.add(pos.className);

      const badge = document.createElement("div");
      badge.className = "place-badge";
      badge.textContent = pos.place + " –º–µ—Å—Ç–æ";
      card.appendChild(badge);

      podiumEl.appendChild(card);
    });
  }

  // ====== –°–ï–¢–ö–ê ======
  function renderGrid(students) {
    gridEl.innerHTML = "";
    students.forEach(st => {
      const card = createStudentCard(st);
      gridEl.appendChild(card);
    });
  }

  // ====== –ö–ê–†–¢–û–ß–ö–ê –£–ß–ï–ù–ò–ö–ê ======
  function createStudentCard(st) {
    const card = document.createElement("article");
    card.className = "card";

    // –æ—Å–æ–±—ã–µ —Ä–∞–º–∫–∏
    const specialType = getSpecialType(st.name);
    if (specialType) {
      card.classList.add("special-" + specialType);
    }

    const wrap = document.createElement("div");
    wrap.className = "avatar-wrap";

    const avatarEl = createAvatarElement(st);

    const starsRing = document.createElement("div");
    starsRing.className = "stars-ring";

    // –∫–æ—Ç–∏–∫–∏/–∑–∞–π–∫–∏ –¥–ª—è –î–µ–Ω–∏—Å–∞ –∏ –ê–Ω–Ω—ã
    if (specialType === "denis") {
      placeEmojiRing(starsRing, st.completed, "üê±");
    } else if (specialType === "anna") {
      placeEmojiRing(starsRing, st.completed, "üê∞");
    } else {
      placeStars(starsRing, st.completed);
    }

    wrap.appendChild(avatarEl);
    wrap.appendChild(starsRing);

    const nameEl = document.createElement("div");
    nameEl.className = "name";

    const parts = st.name.split(" ").filter(Boolean);
    const firstName = parts[0] || "";
    const lastName = parts.slice(1).join(" ") || "";

    nameEl.innerHTML = `
      <div>${firstName}</div>
      <div>${lastName}</div>
    `;

    const metaEl = document.createElement("div");
    metaEl.className = "meta";
    metaEl.innerHTML = `–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞–Ω–∏–π: <strong>${st.completed}</strong>`;

    card.appendChild(wrap);
    card.appendChild(nameEl);
    card.appendChild(metaEl);

    return card;
  }

  // ====== –ê–í–ê–¢–ê–† ======
  function createAvatarElement(st) {
    let core;
    if (st.avatar) {
      const img = document.createElement("img");
      img.src = st.avatar;
      img.alt = st.name;
      img.className = "avatar";
      core = img;
    } else {
      const div = document.createElement("div");
      div.className = "avatar";
      div.textContent = getInitials(st.name);
      core = div;
    }

    if (st.profile) {
      const link = document.createElement("a");
      link.href = st.profile;
      link.target = "_blank";
      link.rel = "noopener noreferrer";
      link.className = "avatar-link";
      link.appendChild(core);
      return link;
    }

    return core;
  }

  // ====== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï ======
  function getSpecialType(name) {
    const n = name.toLowerCase();

    if (n.includes("–¥–µ–Ω–∏—Å") && n.includes("–∂–∏—Ö–∞—Ä")) return "denis";
    if (n.includes("–∞–Ω–Ω–∞") && n.includes("–∫—É–¥—Ä—è–≤")) return "anna";
    if (n.includes("–¥–∏–Ω–∞—Ä–∞") && n.includes("–≥—É–±–∞–π–¥")) return "dinara";
    if (n.includes("–ª—é–±–æ–≤") && n.includes("–∑–∞—Ä—É–±")) return "lyuba";

    return null;
  }

  function getInitials(fullName) {
    const parts = fullName.split(/\s+/).filter(Boolean);
    if (parts.length === 0) return "?";
    if (parts.length === 1) return parts[0].slice(0, 2).toUpperCase();
    return (parts[0][0] + parts[1][0]).toUpperCase();
  }

  // ====== –ó–í–Å–ó–î–´ ======
  function placeStars(container, completed) {
    container.innerHTML = "";
    if (completed <= 0) return;

    const big = Math.floor(completed / 5);
    const small = completed % 5;

    const bigRadius = 42;
    const smallRadius = 38;
    const bigSize = 20;
    const smallSize = 12;

    const toRad = (deg) => deg * Math.PI / 180;

    // –≤–µ—Ä—Ö–Ω—è—è –¥—É–≥–∞ ‚Äî –±–æ–ª—å—à–∏–µ
    if (big > 0) {
      const startTop = -160;
      const endTop   = -20;
      const stepTop = (endTop - startTop) / (big + 1);

      for (let i = 0; i < big; i++) {
        const angleDeg = startTop + stepTop * (i + 1);
        const angle = toRad(angleDeg);

        const x = bigRadius * Math.cos(angle);
        const y = bigRadius * Math.sin(angle);

        const star = document.createElement("span");
        star.className = "star";
        star.textContent = "‚òÖ";
        star.style.fontSize = bigSize + "px";
        star.style.transform =
          `translate(-50%, -50%) translate(${x}px, ${y}px)`;

        container.appendChild(star);
      }
    }

    // –Ω–∏–∂–Ω—è—è –¥—É–≥–∞ ‚Äî –º–∞–ª–µ–Ω—å–∫–∏–µ
    if (small > 0) {
      const startBottom = 20;
      const endBottom   = 160;
      const stepBottom = (endBottom - startBottom) / (small + 1);

      for (let i = 0; i < small; i++) {
        const angleDeg = startBottom + stepBottom * (i + 1);
        const angle = toRad(angleDeg);

        const x = smallRadius * Math.cos(angle);
        const y = smallRadius * Math.sin(angle);

        const star = document.createElement("span");
        star.className = "star";
        star.textContent = "‚òÖ";
        star.style.fontSize = smallSize + "px";
        star.style.transform =
          `translate(-50%, -50%) translate(${x}px, ${y}px)`;

        container.appendChild(star);
      }
    }
  }

  // ====== –ö–û–õ–¨–¶–û –° –≠–ú–û–î–ó–ò (–ö–û–¢–ò–ö–ò / –ó–ê–ô–ö–ò) ======
function placeEmojiRing(container, completed, emoji) {
  container.innerHTML = "";

  // –ê–Ω–Ω–∞ –∏ –î–µ–Ω–∏—Å ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–º–æ–¥–∑–∏ –≤—Å–µ–≥–¥–∞
  const big = 3;   // –í–°–ï–ì–î–ê —Ç—Ä–∏ –∫—Ä—É–ø–Ω—ã—Ö —Å–≤–µ—Ä—Ö—É
  const small = 3; // –í–°–ï–ì–î–ê —Ç—Ä–∏ –º–µ–ª–∫–∏—Ö —Å–Ω–∏–∑—É

  const bigRadius = 42;
  const smallRadius = 38;
  const bigSize = 22;
  const smallSize = 16;

  const toRad = (deg) => deg * Math.PI / 180;

  // –í–ï–†–•–ù–Ø–Ø –î–£–ì–ê ‚Äî –±–æ–ª—å—à–∏–µ —ç–º–æ–¥–∑–∏
  const startTop = -160;
  const endTop   = -20;
  const stepTop = (endTop - startTop) / (big + 1);

  for (let i = 0; i < big; i++) {
    const angleDeg = startTop + stepTop * (i + 1);
    const angle = toRad(angleDeg);

    const x = bigRadius * Math.cos(angle);
    const y = bigRadius * Math.sin(angle);

    const node = document.createElement("span");
    node.className = "star";
    node.textContent = emoji;
    node.style.fontSize = bigSize + "px";
    node.style.transform =
      `translate(-50%, -50%) translate(${x}px, ${y}px)`;

    container.appendChild(node);
  }

  // –ù–ò–ñ–ù–Ø–Ø –î–£–ì–ê ‚Äî –º–∞–ª–µ–Ω—å–∫–∏–µ —ç–º–æ–¥–∑–∏
  const startBottom = 20;
  const endBottom   = 160;
  const stepBottom = (endBottom - startBottom) / (small + 1);

  for (let i = 0; i < small; i++) {
    const angleDeg = startBottom + stepBottom * (i + 1);
    const angle = toRad(angleDeg);

    const x = smallRadius * Math.cos(angle);
    const y = smallRadius * Math.sin(angle);

    const node = document.createElement("span");
    node.className = "star";
    node.textContent = emoji;
    node.style.fontSize = smallSize + "px";
    node.style.transform =
      `translate(-50%, -50%) translate(${x}px, ${y}px)`;

    container.appendChild(node);
  }
}


  // ====== –ü–û–ò–°–ö ======
  if (searchInput) {
    searchInput.addEventListener("input", (e) => {
      renderAll(e.target.value);
    });
  }

  // –°—Ç–∞—Ä—Ç
  loadCSV();
</script>

 


</body>
</html>
